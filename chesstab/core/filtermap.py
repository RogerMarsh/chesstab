# filtermap.py
# Copyright 2025 Roger Marsh
# Licence: See LICENCE (BSD licence)

"""Map classes representing CQL filters to evaluator classes.

The evaluator_class() function returns the evaluator class appropriate
for the filter class argument.
"""

from chessql.core import filters
import chessql.core.cql
import chessql.core.hhdb
import chessql.core.querycontainer
import chessql.core.tokenmap

from .cql import symbol
from .cql import and_
from .cql import braces
from .cql import container
from .cql import cqlparameters
from .cql import not_
from .cql import or_
from .cql import parentheses
from .cql import piecedesignator
from .cql import ray


class FilterNotImplemented(symbol.Symbol):
    """Evaluator for filters which are not implemented."""

    def evaluate_symbol(self, cqlfinder, movenumber, cache, constraint=None):
        """Do nothing.

        The None return causes an AttributeError exception later which is
        caught and reported as such rather than explained as a 'filter not
        implemented' condition.
        """


filter_map = {
    filters.ASCII: FilterNotImplemented,
    filters.Abs: FilterNotImplemented,
    filters.AfterEq: FilterNotImplemented,
    filters.AfterNE: FilterNotImplemented,
    filters.All: FilterNotImplemented,
    filters.Ancestor: FilterNotImplemented,
    filters.And: and_.And,
    filters.AnyDirection: FilterNotImplemented,
    filters.AnyDirectionParameter: FilterNotImplemented,
    filters.AnyKing: piecedesignator.PieceDesignator,
    filters.AnyPiece: piecedesignator.PieceDesignator,
    filters.AnySquare: piecedesignator.PieceDesignator,
    filters.AnythingElse: FilterNotImplemented,
    filters.ArrowBackward: FilterNotImplemented,
    filters.ArrowForward: FilterNotImplemented,
    filters.Assert: FilterNotImplemented,
    filters.Assign: FilterNotImplemented,
    filters.AssignDivide: FilterNotImplemented,
    filters.AssignIf: FilterNotImplemented,
    filters.AssignMinus: FilterNotImplemented,
    filters.AssignModulus: FilterNotImplemented,
    filters.AssignMultiply: FilterNotImplemented,
    filters.AssignPlus: FilterNotImplemented,
    filters.AssignPromotion: FilterNotImplemented,
    filters.Atomic: FilterNotImplemented,
    filters.AttackArrow: FilterNotImplemented,
    filters.AttackedArrow: FilterNotImplemented,
    filters.AttackedBy: FilterNotImplemented,
    filters.Attacks: FilterNotImplemented,
    filters.BTM: FilterNotImplemented,
    filters.Backslash: FilterNotImplemented,
    filters.BeforeEq: FilterNotImplemented,
    filters.BeforeNE: FilterNotImplemented,
    filters.Between: FilterNotImplemented,
    filters.BindName: FilterNotImplemented,
    filters.Black: FilterNotImplemented,
    filters.BlockComment: FilterNotImplemented,
    filters.BraceLeft: braces.Braces,
    filters.BraceRight: FilterNotImplemented,
    filters.BracketLeft: FilterNotImplemented,
    filters.BracketRight: FilterNotImplemented,
    chessql.core.cql.CQL: cqlparameters.CQLParameters,
    filters.Capture: FilterNotImplemented,
    filters.Castle: FilterNotImplemented,
    filters.CastleParameter: FilterNotImplemented,
    filters.Check: FilterNotImplemented,
    filters.Child: FilterNotImplemented,
    filters.ChildParentheses: FilterNotImplemented,
    filters.Colon: FilterNotImplemented,
    filters.ColonStringIndex: FilterNotImplemented,
    filters.ColorType: FilterNotImplemented,
    filters.Comment: FilterNotImplemented,
    filters.CommentParameter: FilterNotImplemented,
    filters.CommentParentheses: FilterNotImplemented,
    filters.CommentParenthesesParameter: FilterNotImplemented,
    filters.CommentSymbol: FilterNotImplemented,
    filters.Complement: FilterNotImplemented,
    filters.ConnectedPawns: FilterNotImplemented,
    filters.ConsecutiveMoves: FilterNotImplemented,
    filters.ConstituentParenthesisLeft: FilterNotImplemented,
    filters.ConstituentParenthesisRight: FilterNotImplemented,
    filters.Count: FilterNotImplemented,
    filters.CountFilter: FilterNotImplemented,
    filters.CountMoves: FilterNotImplemented,
    filters.CurrentMove: FilterNotImplemented,
    filters.CurrentPosition: FilterNotImplemented,
    filters.CurrentTransform: FilterNotImplemented,
    filters.Dark: FilterNotImplemented,
    filters.DashII: FilterNotImplemented,
    filters.DashIR: FilterNotImplemented,
    filters.DashLI: FilterNotImplemented,
    filters.DashLR: FilterNotImplemented,
    filters.Date: FilterNotImplemented,
    filters.Depth: FilterNotImplemented,
    filters.Descendant: FilterNotImplemented,
    filters.Diagonal: FilterNotImplemented,
    filters.DiagonalParameter: FilterNotImplemented,
    filters.Dictionary: FilterNotImplemented,
    filters.Distance: FilterNotImplemented,
    filters.Divide: FilterNotImplemented,
    filters.Documentation: FilterNotImplemented,
    filters.DoubledPawns: FilterNotImplemented,
    filters.Down: FilterNotImplemented,
    filters.DownParameter: FilterNotImplemented,
    filters.ECO: FilterNotImplemented,
    filters.Echo: FilterNotImplemented,
    filters.Element: FilterNotImplemented,
    filters.Elo: FilterNotImplemented,
    filters.Else: FilterNotImplemented,
    filters.EmptySquares: FilterNotImplemented,
    filters.EnPassant: FilterNotImplemented,
    filters.EnPassantParameter: FilterNotImplemented,
    filters.EnPassantSquare: FilterNotImplemented,
    filters.EnPassantSquareParameter: FilterNotImplemented,
    filters.EndCommentSymbol: FilterNotImplemented,
    filters.EndOfStream: FilterNotImplemented,
    filters.EndPaths: FilterNotImplemented,
    filters.Eq: FilterNotImplemented,
    filters.Event: FilterNotImplemented,
    filters.EventDate: FilterNotImplemented,
    filters.ExistentialPieceIterator: FilterNotImplemented,
    filters.ExistentialPieceVariable: FilterNotImplemented,
    filters.ExistentialSquareIterator: FilterNotImplemented,
    filters.ExistentialSquareVariable: FilterNotImplemented,
    filters.FEN: FilterNotImplemented,
    filters.False_: FilterNotImplemented,
    filters.File: FilterNotImplemented,
    filters.Find: FilterNotImplemented,
    filters.FindBackward: FilterNotImplemented,
    filters.FirstMatch: FilterNotImplemented,
    filters.Flip: FilterNotImplemented,
    filters.FlipColor: FilterNotImplemented,
    filters.FlipHorizontal: FilterNotImplemented,
    filters.FlipVertical: FilterNotImplemented,
    filters.Focus: FilterNotImplemented,
    filters.FocusCapture: FilterNotImplemented,
    filters.From: FilterNotImplemented,
    filters.FromDefaultPinParameter: FilterNotImplemented,
    filters.FromParameter: FilterNotImplemented,
    filters.Function: FilterNotImplemented,
    filters.FunctionBodyLeft: FilterNotImplemented,
    filters.FunctionBodyRight: FilterNotImplemented,
    filters.FunctionCall: FilterNotImplemented,
    chessql.core.tokenmap.FunctionCallEnd: FilterNotImplemented,
    filters.GE: FilterNotImplemented,
    filters.GT: FilterNotImplemented,
    filters.GameNumber: FilterNotImplemented,
    chessql.core.hhdb.HHdbCook: FilterNotImplemented,
    chessql.core.hhdb.HHdbEG: FilterNotImplemented,
    chessql.core.hhdb.HHdbMain: FilterNotImplemented,
    chessql.core.hhdb.HHdbMinorDual: FilterNotImplemented,
    chessql.core.hhdb.HHdbOr: FilterNotImplemented,
    chessql.core.hhdb.HHdbMainline: FilterNotImplemented,
    chessql.core.hhdb.HHdbVariation: FilterNotImplemented,
    chessql.core.hhdb.HHdbCooked: FilterNotImplemented,
    chessql.core.hhdb.HHdbDual: FilterNotImplemented,
    chessql.core.hhdb.HHdbSound: FilterNotImplemented,
    chessql.core.hhdb.HHdbUnsound: FilterNotImplemented,
    chessql.core.hhdb.HHdbCorrection: FilterNotImplemented,
    chessql.core.hhdb.HHdbModification: FilterNotImplemented,
    chessql.core.hhdb.HHdbCorrectedSolution: FilterNotImplemented,
    chessql.core.hhdb.HHdbVersion: FilterNotImplemented,
    chessql.core.hhdb.HHdbAnticipation: FilterNotImplemented,
    chessql.core.hhdb.HHdbColorsReversed: FilterNotImplemented,
    chessql.core.hhdb.HHdbTooManyComposers: FilterNotImplemented,
    chessql.core.hhdb.HHdbPosthumous: FilterNotImplemented,
    chessql.core.hhdb.HHdbTheoreticalEnding: FilterNotImplemented,
    chessql.core.hhdb.HHdbThemeTourney: FilterNotImplemented,
    chessql.core.hhdb.HHdbTwin: FilterNotImplemented,
    chessql.core.hhdb.HHdbDualAtMove1: FilterNotImplemented,
    chessql.core.hhdb.HHdbDualAfterMove1: FilterNotImplemented,
    chessql.core.hhdb.HHdbWhiteFails: FilterNotImplemented,
    chessql.core.hhdb.HHdbWhiteWinsInDraw: FilterNotImplemented,
    chessql.core.hhdb.HHdbUnreachable: FilterNotImplemented,
    chessql.core.hhdb.HHdbEGDiagram: FilterNotImplemented,
    chessql.core.hhdb.HHdbComposer: FilterNotImplemented,
    chessql.core.hhdb.HHdbDiagram: FilterNotImplemented,
    chessql.core.hhdb.HHdbFirstcomment: FilterNotImplemented,
    chessql.core.hhdb.HHdbGBR: FilterNotImplemented,
    chessql.core.hhdb.HHdbGBRKings: FilterNotImplemented,
    chessql.core.hhdb.HHdbGBRMaterial: FilterNotImplemented,
    chessql.core.hhdb.HHdbGBRPawns: FilterNotImplemented,
    chessql.core.hhdb.HHdbGBRPieces: FilterNotImplemented,
    chessql.core.hhdb.HHdbSearch: FilterNotImplemented,
    chessql.core.hhdb.HHdbStipulation: FilterNotImplemented,
    chessql.core.hhdb.HHdbAward: FilterNotImplemented,
    filters.Horizontal: FilterNotImplemented,
    filters.HorizontalParameter: FilterNotImplemented,
    filters.IdealMate: FilterNotImplemented,
    filters.IdealStaleMate: FilterNotImplemented,
    filters.If: FilterNotImplemented,
    filters.ImplicitSearchParameter: FilterNotImplemented,
    filters.In: FilterNotImplemented,
    filters.InAll: FilterNotImplemented,
    filters.InParameter: FilterNotImplemented,
    filters.IndexOf: FilterNotImplemented,
    filters.Initial: FilterNotImplemented,
    filters.InitialPosition: FilterNotImplemented,
    filters.Int: FilterNotImplemented,
    filters.Integer: FilterNotImplemented,
    filters.Intersection: FilterNotImplemented,
    filters.IsBound: FilterNotImplemented,
    filters.IsUnbound: FilterNotImplemented,
    filters.IsolatedPawns: FilterNotImplemented,
    filters.KeepAllBest: FilterNotImplemented,
    filters.LCA: FilterNotImplemented,
    filters.LE: FilterNotImplemented,
    filters.LT: FilterNotImplemented,
    filters.LastGameNumber: FilterNotImplemented,
    filters.LastPosition: FilterNotImplemented,
    filters.Left: FilterNotImplemented,
    filters.LeftParameter: FilterNotImplemented,
    filters.Legal: FilterNotImplemented,
    filters.LegalParameter: FilterNotImplemented,
    filters.Light: FilterNotImplemented,
    filters.Line: FilterNotImplemented,
    filters.LineArrow: FilterNotImplemented,
    filters.LineComment: FilterNotImplemented,
    filters.LineConstituentParenthesisLeft: FilterNotImplemented,
    filters.LineConstituentParenthesisRight: FilterNotImplemented,
    filters.Local: FilterNotImplemented,
    filters.Loop: FilterNotImplemented,
    filters.LowerCase: FilterNotImplemented,
    filters.MainDiagonal: FilterNotImplemented,
    filters.MainDiagonalParameter: FilterNotImplemented,
    filters.MainLine: FilterNotImplemented,
    filters.MakeSquareParentheses: FilterNotImplemented,
    filters.MakeSquareString: FilterNotImplemented,
    filters.Mate: FilterNotImplemented,
    filters.Max: FilterNotImplemented,
    filters.MaxParameter: FilterNotImplemented,
    filters.Message: FilterNotImplemented,
    filters.MessageParentheses: FilterNotImplemented,
    filters.Min: FilterNotImplemented,
    filters.MinParameter: FilterNotImplemented,
    filters.Minus: FilterNotImplemented,
    filters.ModelMate: FilterNotImplemented,
    filters.ModelStalemate: FilterNotImplemented,
    filters.Modulus: FilterNotImplemented,
    filters.Move: FilterNotImplemented,
    filters.MoveNumber: FilterNotImplemented,
    filters.MoveParameterImpliesNumeric: FilterNotImplemented,
    filters.MoveParameterImpliesSet: FilterNotImplemented,
    filters.NE: FilterNotImplemented,
    filters.NestBan: FilterNotImplemented,
    filters.NoTransform: FilterNotImplemented,
    filters.Northeast: FilterNotImplemented,
    filters.NortheastParameter: FilterNotImplemented,
    filters.Northwest: FilterNotImplemented,
    filters.NorthwestParameter: FilterNotImplemented,
    filters.Not: not_.Not,
    filters.Null: FilterNotImplemented,
    filters.NullMove: FilterNotImplemented,
    filters.OO: FilterNotImplemented,
    filters.OOO: FilterNotImplemented,
    filters.OOOParameter: FilterNotImplemented,
    filters.OOParameter: FilterNotImplemented,
    filters.OffDiagonal: FilterNotImplemented,
    filters.OffDiagonalParameter: FilterNotImplemented,
    filters.Or: or_.Or,
    filters.OriginalComment: FilterNotImplemented,
    filters.Orthogonal: FilterNotImplemented,
    filters.OrthogonalParameter: FilterNotImplemented,
    filters.Parent: FilterNotImplemented,
    filters.ParenthesisLeft: parentheses.Parentheses,
    filters.ParenthesisRight: FilterNotImplemented,
    filters.ParenthesizedArgumentsEnd: FilterNotImplemented,
    filters.PassedPawns: FilterNotImplemented,
    filters.Path: FilterNotImplemented,
    filters.PathCount: FilterNotImplemented,
    filters.PathCountUnfocused: FilterNotImplemented,
    filters.PathLastPosition: FilterNotImplemented,
    filters.PathStart: FilterNotImplemented,
    filters.Persistent: FilterNotImplemented,
    filters.PersistentQuiet: FilterNotImplemented,
    filters.Piece: FilterNotImplemented,
    filters.PieceAll: FilterNotImplemented,
    filters.PieceDesignator: piecedesignator.PieceDesignator,
    filters.PieceId: FilterNotImplemented,
    filters.PieceName: FilterNotImplemented,
    filters.PiecePath: FilterNotImplemented,
    filters.PieceVariable: FilterNotImplemented,
    filters.Pin: FilterNotImplemented,
    filters.Player: FilterNotImplemented,
    filters.Plus: FilterNotImplemented,
    filters.PlusRepeat: FilterNotImplemented,
    filters.Ply: FilterNotImplemented,
    filters.Position: FilterNotImplemented,
    filters.PositionId: FilterNotImplemented,
    filters.Power: FilterNotImplemented,
    filters.Previous: FilterNotImplemented,
    filters.Primary: FilterNotImplemented,
    filters.PrimaryParameter: FilterNotImplemented,
    filters.Promote: FilterNotImplemented,
    filters.Pseudolegal: FilterNotImplemented,
    filters.PseudolegalParameter: FilterNotImplemented,
    filters.PureMate: FilterNotImplemented,
    filters.PureStalemate: FilterNotImplemented,
    chessql.core.querycontainer.QueryContainer: container.Container,
    filters.Quiet: FilterNotImplemented,
    filters.RangeInteger: FilterNotImplemented,
    filters.RangeVariable: FilterNotImplemented,
    filters.Rank: FilterNotImplemented,
    filters.Ray: ray.Ray,
    filters.ReadFile: FilterNotImplemented,
    filters.RegexCapturedGroup: FilterNotImplemented,
    filters.RegexCapturedGroupIndex: FilterNotImplemented,
    filters.RegexMatch: FilterNotImplemented,
    filters.RegexRepeat: FilterNotImplemented,
    filters.RemoveComment: FilterNotImplemented,
    filters.RepeatConstituent: FilterNotImplemented,
    filters.RepeatZeroOrOne: FilterNotImplemented,
    filters.Result: FilterNotImplemented,
    filters.ResultArgument: FilterNotImplemented,
    filters.ReverseColor: FilterNotImplemented,
    filters.Right: FilterNotImplemented,
    filters.RightCompoundPlace: FilterNotImplemented,
    filters.RightParameter: FilterNotImplemented,
    filters.Rotate45: FilterNotImplemented,
    filters.Rotate90: FilterNotImplemented,
    filters.Secondary: FilterNotImplemented,
    filters.SecondaryParameter: FilterNotImplemented,
    filters.SetTag: FilterNotImplemented,
    filters.Shift: FilterNotImplemented,
    filters.ShiftHorizontal: FilterNotImplemented,
    filters.ShiftVertical: FilterNotImplemented,
    filters.SideToMove: FilterNotImplemented,
    filters.SingleColor: FilterNotImplemented,
    filters.Site: FilterNotImplemented,
    filters.Sort: FilterNotImplemented,
    filters.Southeast: FilterNotImplemented,
    filters.SoutheastParameter: FilterNotImplemented,
    filters.Southwest: FilterNotImplemented,
    filters.SouthwestParameter: FilterNotImplemented,
    filters.Sqrt: FilterNotImplemented,
    filters.Square: FilterNotImplemented,
    filters.SquareAll: FilterNotImplemented,
    filters.Stalemate: FilterNotImplemented,
    filters.Star: FilterNotImplemented,
    filters.StarRepeat: FilterNotImplemented,
    filters.Str: FilterNotImplemented,
    filters.StrParentheses: FilterNotImplemented,
    filters.String: FilterNotImplemented,
    filters.Tag: FilterNotImplemented,
    filters.TakeII: FilterNotImplemented,
    filters.TakeIR: FilterNotImplemented,
    filters.TakeLI: FilterNotImplemented,
    filters.TakeLR: FilterNotImplemented,
    filters.TargetConditionsEnd: FilterNotImplemented,
    filters.TargetParenthesisLeft: FilterNotImplemented,
    filters.Terminal: FilterNotImplemented,
    filters.Then: FilterNotImplemented,
    filters.Through: FilterNotImplemented,
    filters.ThroughDefaultPinParameter: FilterNotImplemented,
    filters.Title: FilterNotImplemented,
    filters.To: FilterNotImplemented,
    filters.ToDefaultPinParameter: FilterNotImplemented,
    filters.ToParameter: FilterNotImplemented,
    filters.TransformFilterType: FilterNotImplemented,
    filters.True_: FilterNotImplemented,
    filters.Try: FilterNotImplemented,
    filters.Type: FilterNotImplemented,
    filters.TypeDesignator: FilterNotImplemented,
    filters.TypeName: FilterNotImplemented,
    filters.UnaryMinus: FilterNotImplemented,
    filters.Unbind: FilterNotImplemented,
    filters.Union: FilterNotImplemented,
    filters.UniversalPieceIterator: FilterNotImplemented,
    filters.UniversalPieceVariable: FilterNotImplemented,
    filters.UniversalSquareIterator: FilterNotImplemented,
    filters.UniversalSquareVariable: FilterNotImplemented,
    filters.Up: FilterNotImplemented,
    filters.UpParameter: FilterNotImplemented,
    filters.UpperCase: FilterNotImplemented,
    filters.Variable: FilterNotImplemented,
    filters.Variation: FilterNotImplemented,
    filters.Verbose: FilterNotImplemented,
    filters.Vertical: FilterNotImplemented,
    filters.VerticalParameter: FilterNotImplemented,
    filters.VirtualMainLine: FilterNotImplemented,
    filters.WTM: FilterNotImplemented,
    filters.While: FilterNotImplemented,
    filters.White: FilterNotImplemented,
    filters.WhiteSpace: FilterNotImplemented,
    filters.WildcardPlus: FilterNotImplemented,
    filters.WildcardStar: FilterNotImplemented,
    filters.WriteFile: FilterNotImplemented,
    filters.XRay: FilterNotImplemented,
    filters.Year: FilterNotImplemented,
}

del and_
del braces
del filters
del chessql
del symbol
del container
del cqlparameters
del not_
del or_
del parentheses
del piecedesignator
del ray
# And 'del' any more imported like piecedesignator, likely a lot if there
# is one per entry in filter_map.
